<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="592px" preserveAspectRatio="none" style="width:532px;height:592px;" version="1.1" viewBox="0 0 532 592" width="532px" zoomAndPan="magnify"><defs><filter height="300%" id="fyaghbvkqs2nv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fyaghbvkqs2nv)" height="61.9063" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="92" x="52.5" y="38.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="62.5" y="59.8369">用户修改数据</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="62.5" y="73.8057">- 新增</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="62.5" y="87.7744">- 修改</text><rect fill="#FEFECE" filter="url(#fyaghbvkqs2nv)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="64.5" y="487.4229"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="74.5" y="508.5615">监听消息</text><rect fill="#FEFECE" filter="url(#fyaghbvkqs2nv)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="128" x="34.5" y="541.3916"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="44.5" y="562.5303">把反馈结果通知用户</text><line style="stroke:#000000;stroke-width:2.0;" x1="15" x2="15" y1="12.7451" y2="575.3604"/><rect fill="#FAEBD7" height="562.6152" style="stroke:#FAEBD7;stroke-width:1.0;" width="136" x="186" y="12.7451"/><rect fill="#FEFECE" filter="url(#fyaghbvkqs2nv)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="119" x="192.5" y="137.8638"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="202.5" y="159.0024">msg - partition1</text><rect fill="#FEFECE" filter="url(#fyaghbvkqs2nv)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="119" x="192.5" y="416.1948"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="202.5" y="437.3335">msg - partition2</text><line style="stroke:#000000;stroke-width:2.0;" x1="186" x2="186" y1="12.7451" y2="575.3604"/><rect fill="#FEFECE" filter="url(#fyaghbvkqs2nv)" height="61.9063" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="381" y="209.0918"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="391" y="230.2305">压入队列</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="391" y="244.1992">先进先出</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="391" y="258.168">顺序执行</text><rect fill="#FEFECE" filter="url(#fyaghbvkqs2nv)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="139" x="345.5" y="290.998"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="355.5" y="312.1367">Update Dashboard</text><rect fill="#FEFECE" filter="url(#fyaghbvkqs2nv)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="120" x="355" y="344.9668"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="365" y="366.1055">Update Analysis</text><line style="stroke:#000000;stroke-width:2.0;" x1="322" x2="322" y1="12.7451" y2="575.3604"/><line style="stroke:#000000;stroke-width:2.0;" x1="512" x2="512" y1="12.7451" y2="575.3604"/><line style="stroke:#A80036;stroke-width:1.5;" x1="98.5" x2="98.5" y1="521.3916" y2="541.3916"/><polygon fill="#A80036" points="94.5,531.3916,98.5,541.3916,102.5,531.3916,98.5,535.3916" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="415" x2="415" y1="270.998" y2="290.998"/><polygon fill="#A80036" points="411,280.998,415,290.998,419,280.998,415,284.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="415" x2="415" y1="324.9668" y2="344.9668"/><polygon fill="#A80036" points="411,334.9668,415,344.9668,419,334.9668,415,338.9668" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="98.5" x2="98.5" y1="100.6045" y2="122.8638"/><line style="stroke:#000000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="98.5" x2="252" y1="122.8638" y2="122.8638"/><line style="stroke:#000000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="252" x2="252" y1="122.8638" y2="137.8638"/><polygon fill="#000000" points="248,127.8638,252,137.8638,256,127.8638,252,131.8638" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="102.5" y="116.3638">send msg</text><line style="stroke:#008000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="252" x2="252" y1="171.8325" y2="194.0918"/><line style="stroke:#008000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="252" x2="415" y1="194.0918" y2="194.0918"/><line style="stroke:#008000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="415" x2="415" y1="194.0918" y2="209.0918"/><polygon fill="#008000" points="411,199.0918,415,209.0918,419,199.0918,415,203.0918" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="256" y="187.5918">on msg</text><line style="stroke:#000000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="415" x2="415" y1="378.9355" y2="401.1948"/><line style="stroke:#000000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="415" x2="252" y1="401.1948" y2="401.1948"/><line style="stroke:#000000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="252" x2="252" y1="401.1948" y2="416.1948"/><polygon fill="#000000" points="248,406.1948,252,416.1948,256,406.1948,252,410.1948" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="419" y="394.6948">send msg</text><line style="stroke:#008000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="252" x2="252" y1="450.1636" y2="472.4229"/><line style="stroke:#008000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="252" x2="98.5" y1="472.4229" y2="472.4229"/><line style="stroke:#008000;stroke-width:1.5;stroke-dasharray:1.0,3.0;" x1="98.5" x2="98.5" y1="472.4229" y2="487.4229"/><polygon fill="#008000" points="94.5,477.4229,98.5,487.4229,102.5,477.4229,98.5,481.4229" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="256" y="465.9229">on msg</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="161" x="20" y="29.4531">EnerMon - Energy</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="126" x="191" y="29.4531">Kafka 消息队列</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="180" x="327" y="29.4531">Windows - Schedule</text><!--MD5=[160c50ab0b429eaf1c5159d18864ea92]
@startuml
|EnerMon - Energy|
:用户修改数据
- 新增
- 修改;
|#AntiqueWhite|Kafka 消息队列|
-[#black,dotted]-> send msg;
:msg - partition1;
-[#green,dotted]-> on msg;
|Windows - Schedule|
:压入队列
先进先出
顺序执行;
:Update Dashboard;
:Update Analysis;
|#AntiqueWhite|Kafka 消息队列|
-[#black,dotted]-> send msg;
:msg - partition2;
-[#green,dotted]-> on msg;
|EnerMon - Energy|
:监听消息;
:把反馈结果通知用户;
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>